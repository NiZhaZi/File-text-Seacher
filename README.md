# Text Search Tool (CLI + GUI)

> The project is mostly generated by AI.

## Feature Overview

- ✅ **Specifiable search directory** (defaults to current directory when empty)
- ✅ **Optional subdirectory inclusion** (recursive)
- ✅ **Supports common text types** (`*.txt, *.log, *.csv, *.xml, *.json`) or custom wildcards
- ✅ **Case sensitive/insensitive** option
- ✅ **Batch search for multiple keywords**
- ✅ **Graphical interface (Tkinter)**: Directory selection, type checkboxes, results table, CSV export, double-click to open files
- ✅ **Command line and interactive menu** preserved

## Directory Structure

```
text_searcher/
├─ CMakeLists.txt
├─ requirements.txt
├─ README.md
└─ src/
   ├─ file_text_searcher.py   # 核心搜索逻辑 + 交互式菜单
   ├─ main.py                 # 命令行入口（可启动 GUI）
   └─ gui_app.py              # Tkinter 图形界面
```

## Direct Run (No Packaging Required)

Ensure Python 3.8+ is installed:

```bash
cd text_searcher/src
python main.py            # Enter interactive menu (original experience preserved)
python main.py --gui      # Launch graphical interface
python main.py -s keyword -d path -e *.txt -R  # Direct command line search
```

Common parameters:

- `-s/--search` Specify search term
- `-b/--batch`  Batch search (multiple terms space separated)
- `-d/--dir`    Specify directory (blank=current directory)
- `-e/--ext`    File wildcard (repeatable, e.g., `-e *.txt -e *.log`)
- `--all-types` Common types (`*.txt,*.log,*.csv,*.xml,*.json`)
- `-R/--recursive` Include subdirectories
- `-i/--case-sensitive` Case sensitive
- `--gui` Launch graphical interface
- `--interactive` Force enter interactive menu

## Package as Executable Using CMake

1) Install dependencies: Requires **CMake 3.15+**, **Python 3.8+**, executable **pip**.  
   - Tkinter on Linux may require system packages (e.g., `sudo apt install python3-tk`).
2) Generate and build:

```bash
cd text_searcher
cmake -S . -B build
cmake --build build -j
```

After building, executables are located at:

- `build/dist/TextSearcherCLI` (Command line)
- `build/dist/TextSearcherGUI` (Graphical interface)

> Note: This project uses **PyInstaller** for "freezing" packaging, paths and dependencies are handled automatically by CMake.

## GUI Usage Notes

- "Directory" can be selected via the "Browse..." button; blank defaults to current working directory.
- "Custom wildcard" supports any glob pattern (e.g., `*.py, *.*`).
- Double-click a row in the results area to open the file in the system default program.
- Supports exporting results to CSV.
